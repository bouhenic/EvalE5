<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ã‰valuation BTS CIEL - Ã‰preuve E5</title>
  <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>ðŸŽ“ Ã‰valuation BTS CIEL</h1>
      <h2>Ã‰preuve E5 : Exploitation et maintenance de rÃ©seaux informatiques</h2>
    </header>

    <main>
      <div class="toolbar">
        <div>
          <button class="btn btn-success" onclick="ouvrirModalAjout()">âž• Ajouter un Ã©lÃ¨ve</button>
          <button class="btn btn-secondary" onclick="refreshEleves()">ðŸ”„ Actualiser</button>
        </div>
        <div class="filters">
          <label for="filtre-promotion">Promotion :</label>
          <select id="filtre-promotion" onchange="filtrerParPromotion()">
            <option value="">Toutes les promotions</option>
          </select>
        </div>
        <div class="info">
          <span id="count-eleves">0 Ã©lÃ¨ve(s)</span>
        </div>
      </div>

      <div id="loading" class="loading">Chargement des Ã©lÃ¨ves...</div>
      <div id="error" class="error" style="display: none;"></div>

      <table id="table-eleves" class="table-eleves" style="display: none;">
        <thead>
          <tr>
            <th>ID</th>
            <th>Nom</th>
            <th>PrÃ©nom</th>
            <th>Promotion</th>
            <th>Moyenne</th>
            <th>NÂ° Candidat</th>
            <th>Statut Excel</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="tbody-eleves">
          <!-- Rempli dynamiquement -->
        </tbody>
      </table>
    </main>

    <footer>
      <p>Application d'Ã©valuation - Session 2024</p>
    </footer>
  </div>

  <!-- Modal pour ajouter un Ã©lÃ¨ve -->
  <div id="modal-ajout-eleve" class="modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Ajouter un Ã©lÃ¨ve</h2>
        <button class="btn-close" onclick="fermerModalAjout()">Ã—</button>
      </div>
      <div class="modal-body">
        <form id="form-ajout-eleve" onsubmit="ajouterEleve(event)">
          <div class="form-group">
            <label for="nom">Nom *</label>
            <input type="text" id="nom" name="nom" required>
          </div>
          <div class="form-group">
            <label for="prenom">PrÃ©nom *</label>
            <input type="text" id="prenom" name="prenom" required>
          </div>
          <div class="form-group">
            <label for="promotion">Promotion *</label>
            <input type="text" id="promotion" name="promotion" value="2024-2026" required>
          </div>
          <div class="form-group">
            <label for="numero_candidat">NumÃ©ro candidat *</label>
            <input type="text" id="numero_candidat" name="numero_candidat" required>
          </div>
          <div class="form-group">
            <label for="academie">AcadÃ©mie *</label>
            <input type="text" id="academie" name="academie" value="AcadÃ©mie de Versailles" required>
          </div>
          <div class="form-group">
            <label for="etablissement">Ã‰tablissement *</label>
            <input type="text" id="etablissement" name="etablissement" value="LycÃ©e Isaac Newton" required>
          </div>
          <div class="form-group">
            <label for="session">Session *</label>
            <input type="text" id="session" name="session" value="SESSION 2026" required>
          </div>
          <div class="modal-actions">
            <button type="button" class="btn btn-secondary" onclick="fermerModalAjout()">Annuler</button>
            <button type="submit" class="btn btn-success">Ajouter</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <script src="/js/index.js"></script>
</body>
</html>
